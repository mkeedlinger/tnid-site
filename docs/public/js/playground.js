var st,h,Yt,ze,H,Ot,Jt,jt,te,gt,ht,yt,qe,X={},ee=[],Oe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ct=Array.isArray;function C(t,e){for(var n in e)t[n]=e[n];return t}function wt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ze(t,e,n){var r,o,i,a={};for(i in e)i=="key"?r=e[i]:i=="ref"?o=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?st.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(i in t.defaultProps)a[i]===void 0&&(a[i]=t.defaultProps[i]);return ot(t,a,r,o,null)}function ot(t,e,n,r,o){var i={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Yt,__i:-1,__u:0};return o==null&&h.vnode!=null&&h.vnode(i),i}function K(t){return t.children}function it(t,e){this.props=t,this.context=e}function L(t,e){if(e==null)return t.__?L(t.__,t.__i+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?L(t):null}function ne(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return ne(t)}}function Zt(t){(!t.__d&&(t.__d=!0)&&H.push(t)&&!at.__r++||Ot!=h.debounceRendering)&&((Ot=h.debounceRendering)||Jt)(at)}function at(){for(var t,e,n,r,o,i,a,c=1;H.length;)H.length>c&&H.sort(jt),t=H.shift(),c=H.length,t.__d&&(n=void 0,r=void 0,o=(r=(e=t).__v).__e,i=[],a=[],e.__P&&((n=C({},r)).__v=r.__v+1,h.vnode&&h.vnode(n),Tt(e.__P,n,r,e.__n,e.__P.namespaceURI,32&r.__u?[o]:null,i,o??L(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,ie(i,n,a),r.__e=r.__=null,n.__e!=o&&ne(n)));at.__r=0}function re(t,e,n,r,o,i,a,c,l,u,d){var s,p,_,m,T,g,v,y=r&&r.__k||ee,N=e.length;for(l=Xe(n,e,y,l,N),s=0;s<N;s++)(_=n.__k[s])!=null&&(p=_.__i==-1?X:y[_.__i]||X,_.__i=s,g=Tt(t,_,p,o,i,a,c,l,u,d),m=_.__e,_.ref&&p.ref!=_.ref&&(p.ref&&It(p.ref,null,_),d.push(_.ref,_.__c||m,_)),T==null&&m!=null&&(T=m),(v=!!(4&_.__u))||p.__k===_.__k?l=oe(_,l,t,v):typeof _.type=="function"&&g!==void 0?l=g:m&&(l=m.nextSibling),_.__u&=-7);return n.__e=T,l}function Xe(t,e,n,r,o){var i,a,c,l,u,d=n.length,s=d,p=0;for(t.__k=new Array(o),i=0;i<o;i++)(a=e[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?a=t.__k[i]=ot(null,a,null,null,null):ct(a)?a=t.__k[i]=ot(K,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?a=t.__k[i]=ot(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):t.__k[i]=a,l=i+p,a.__=t,a.__b=t.__b+1,c=null,(u=a.__i=Qe(a,n,l,s))!=-1&&(s--,(c=n[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(o>d?p--:o<d&&p++),typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?p--:u==l+1?p++:(u>l?p--:p++,a.__u|=4))):t.__k[i]=null;if(s)for(i=0;i<d;i++)(c=n[i])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=L(c)),se(c,c));return r}function oe(t,e,n,r){var o,i;if(typeof t.type=="function"){for(o=t.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=t,e=oe(o[i],e,n,r));return e}t.__e!=e&&(r&&(e&&t.type&&!e.parentNode&&(e=L(t)),n.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function Qe(t,e,n,r){var o,i,a,c=t.key,l=t.type,u=e[n],d=u!=null&&(2&u.__u)==0;if(u===null&&c==null||d&&c==u.key&&l==u.type)return n;if(r>(d?1:0)){for(o=n-1,i=n+1;o>=0||i<e.length;)if((u=e[a=o>=0?o--:i++])!=null&&(2&u.__u)==0&&c==u.key&&l==u.type)return a}return-1}function Xt(t,e,n){e[0]=="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Oe.test(e)?n:n+"px"}function rt(t,e,n,r,o){var i,a;t:if(e=="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Xt(t.style,e,"");if(n)for(e in n)r&&n[e]==r[e]||Xt(t.style,e,n[e])}else if(e[0]=="o"&&e[1]=="n")i=e!=(e=e.replace(te,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=n,n?r?n.u=r.u:(n.u=gt,t.addEventListener(e,i?yt:ht,i)):t.removeEventListener(e,i?yt:ht,i);else{if(o=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=n??"";break t}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&n==1?"":n))}}function Qt(t){return function(e){if(this.l){var n=this.l[e.type+t];if(e.t==null)e.t=gt++;else if(e.t<n.u)return;return n(h.event?h.event(e):e)}}}function Tt(t,e,n,r,o,i,a,c,l,u){var d,s,p,_,m,T,g,v,y,N,V,M,$,O,P,B,R,b=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(l=!!(32&n.__u),i=[c=e.__e=n.__e]),(d=h.__b)&&d(e);t:if(typeof b=="function")try{if(v=e.props,y="prototype"in b&&b.prototype.render,N=(d=b.contextType)&&r[d.__c],V=d?N?N.props.value:d.__:r,n.__c?g=(s=e.__c=n.__c).__=s.__E:(y?e.__c=s=new b(v,V):(e.__c=s=new it(v,V),s.constructor=b,s.render=Je),N&&N.sub(s),s.state||(s.state={}),s.__n=r,p=s.__d=!0,s.__h=[],s._sb=[]),y&&s.__s==null&&(s.__s=s.state),y&&b.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=C({},s.__s)),C(s.__s,b.getDerivedStateFromProps(v,s.__s))),_=s.props,m=s.state,s.__v=e,p)y&&b.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),y&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(y&&b.getDerivedStateFromProps==null&&v!==_&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(v,V),e.__v==n.__v||!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(v,s.__s,V)===!1){for(e.__v!=n.__v&&(s.props=v,s.state=s.__s,s.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(D){D&&(D.__=e)}),M=0;M<s._sb.length;M++)s.__h.push(s._sb[M]);s._sb=[],s.__h.length&&a.push(s);break t}s.componentWillUpdate!=null&&s.componentWillUpdate(v,s.__s,V),y&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(_,m,T)})}if(s.context=V,s.props=v,s.__P=t,s.__e=!1,$=h.__r,O=0,y){for(s.state=s.__s,s.__d=!1,$&&$(e),d=s.render(s.props,s.state,s.context),P=0;P<s._sb.length;P++)s.__h.push(s._sb[P]);s._sb=[]}else do s.__d=!1,$&&$(e),d=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++O<25);s.state=s.__s,s.getChildContext!=null&&(r=C(C({},r),s.getChildContext())),y&&!p&&s.getSnapshotBeforeUpdate!=null&&(T=s.getSnapshotBeforeUpdate(_,m)),B=d,d!=null&&d.type===K&&d.key==null&&(B=ae(d.props.children)),c=re(t,ct(B)?B:[B],e,n,r,o,i,a,c,l,u),s.base=e.__e,e.__u&=-161,s.__h.length&&a.push(s),g&&(s.__E=s.__=null)}catch(D){if(e.__v=null,l||i!=null)if(D.then){for(e.__u|=l?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;i[i.indexOf(c)]=null,e.__e=c}else{for(R=i.length;R--;)wt(i[R]);vt(e)}else e.__e=n.__e,e.__k=n.__k,D.then||vt(e);h.__e(D,e,n)}else i==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):c=e.__e=Ye(n.__e,e,n,r,o,i,a,l,u);return(d=h.diffed)&&d(e),128&e.__u?void 0:c}function vt(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(vt)}function ie(t,e,n){for(var r=0;r<n.length;r++)It(n[r],n[++r],n[++r]);h.__c&&h.__c(e,t),t.some(function(o){try{t=o.__h,o.__h=[],t.some(function(i){i.call(o)})}catch(i){h.__e(i,o.__v)}})}function ae(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:ct(t)?t.map(ae):C({},t)}function Ye(t,e,n,r,o,i,a,c,l){var u,d,s,p,_,m,T,g=n.props||X,v=e.props,y=e.type;if(y=="svg"?o="http://www.w3.org/2000/svg":y=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((_=i[u])&&"setAttribute"in _==!!y&&(y?_.localName==y:_.nodeType==3)){t=_,i[u]=null;break}}if(t==null){if(y==null)return document.createTextNode(v);t=document.createElementNS(o,y,v.is&&v),c&&(h.__m&&h.__m(e,i),c=!1),i=null}if(y==null)g===v||c&&t.data==v||(t.data=v);else{if(i=i&&st.call(t.childNodes),!c&&i!=null)for(g={},u=0;u<t.attributes.length;u++)g[(_=t.attributes[u]).name]=_.value;for(u in g)if(_=g[u],u!="children"){if(u=="dangerouslySetInnerHTML")s=_;else if(!(u in v)){if(u=="value"&&"defaultValue"in v||u=="checked"&&"defaultChecked"in v)continue;rt(t,u,null,_,o)}}for(u in v)_=v[u],u=="children"?p=_:u=="dangerouslySetInnerHTML"?d=_:u=="value"?m=_:u=="checked"?T=_:c&&typeof _!="function"||g[u]===_||rt(t,u,_,g[u],o);if(d)c||s&&(d.__html==s.__html||d.__html==t.innerHTML)||(t.innerHTML=d.__html),e.__k=[];else if(s&&(t.innerHTML=""),re(e.type=="template"?t.content:t,ct(p)?p:[p],e,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,a,i?i[0]:n.__k&&L(n,0),c,l),i!=null)for(u=i.length;u--;)wt(i[u]);c||(u="value",y=="progress"&&m==null?t.removeAttribute("value"):m!=null&&(m!==t[u]||y=="progress"&&!m||y=="option"&&m!=g[u])&&rt(t,u,m,g[u],o),u="checked",T!=null&&T!=t[u]&&rt(t,u,T,g[u],o))}return t}function It(t,e,n){try{if(typeof t=="function"){var r=typeof t.__u=="function";r&&t.__u(),r&&e==null||(t.__u=t(e))}else t.current=e}catch(o){h.__e(o,n)}}function se(t,e,n){var r,o;if(h.unmount&&h.unmount(t),(r=t.ref)&&(r.current&&r.current!=t.__e||It(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){h.__e(i,e)}r.base=r.__P=null}if(r=t.__k)for(o=0;o<r.length;o++)r[o]&&se(r[o],e,n||typeof t.type!="function");n||wt(t.__e),t.__c=t.__=t.__e=void 0}function Je(t,e,n){return this.constructor(t,n)}function F(t,e,n){var r,o,i,a;e==document&&(e=document.documentElement),h.__&&h.__(t,e),o=(r=typeof n=="function")?null:n&&n.__k||e.__k,i=[],a=[],Tt(e,t=(!r&&n||e).__k=Ze(K,null,[t]),o||X,X,e.namespaceURI,!r&&n?[n]:o?null:e.firstChild?st.call(e.childNodes):null,i,!r&&n?n:o?o.__e:e.firstChild,r,a),ie(i,t,a)}st=ee.slice,h={__e:function(t,e,n,r){for(var o,i,a;e=e.__;)if((o=e.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(t)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(t,r||{}),a=o.__d),a)return o.__E=o}catch(c){t=c}throw t}},Yt=0,ze=function(t){return t!=null&&t.constructor===void 0},it.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=C({},this.state),typeof t=="function"&&(t=t(C({},n),this.props)),t&&C(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),Zt(this))},it.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Zt(this))},it.prototype.render=K,H=[],Jt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,jt=function(t,e){return t.__v.__b-e.__v.__b},at.__r=0,te=/(PointerCapture)$|Capture$/i,gt=0,ht=Qt(!1),yt=Qt(!0),qe=0;var Et,w,xt,ce,bt=0,he=[],I=h,ue=I.__b,le=I.__r,_e=I.diffed,fe=I.__c,de=I.unmount,pe=I.__;function je(t,e){I.__h&&I.__h(w,t,bt||e),bt=0;var n=w.__H||(w.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function x(t){return bt=1,tn(ye,t)}function tn(t,e,n){var r=je(Et++,2);if(r.t=t,!r.__c&&(r.__=[n?n(e):ye(void 0,e),function(c){var l=r.__N?r.__N[0]:r.__[0],u=r.t(l,c);l!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=w,!w.__f)){var o=function(c,l,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(p){return!!p.__c});if(d.every(function(p){return!p.__N}))return!i||i.call(this,c,l,u);var s=r.__c.props!==c;return d.forEach(function(p){if(p.__N){var _=p.__[0];p.__=p.__N,p.__N=void 0,_!==p.__[0]&&(s=!0)}}),i&&i.call(this,c,l,u)||s};w.__f=!0;var i=w.shouldComponentUpdate,a=w.componentWillUpdate;w.componentWillUpdate=function(c,l,u){if(this.__e){var d=i;i=void 0,o(c,l,u),i=d}a&&a.call(this,c,l,u)},w.shouldComponentUpdate=o}return r.__N||r.__}function en(){for(var t;t=he.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(ut),t.__H.__h.forEach(Dt),t.__H.__h=[]}catch(e){t.__H.__h=[],I.__e(e,t.__v)}}I.__b=function(t){w=null,ue&&ue(t)},I.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),pe&&pe(t,e)},I.__r=function(t){le&&le(t),Et=0;var e=(w=t.__c).__H;e&&(xt===w?(e.__h=[],w.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(ut),e.__h.forEach(Dt),e.__h=[],Et=0)),xt=w},I.diffed=function(t){_e&&_e(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(he.push(e)!==1&&ce===I.requestAnimationFrame||((ce=I.requestAnimationFrame)||nn)(en)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),xt=w=null},I.__c=function(t,e){e.some(function(n){try{n.__h.forEach(ut),n.__h=n.__h.filter(function(r){return!r.__||Dt(r)})}catch(r){e.some(function(o){o.__h&&(o.__h=[])}),e=[],I.__e(r,n.__v)}}),fe&&fe(t,e)},I.unmount=function(t){de&&de(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{ut(r)}catch(o){e=o}}),n.__H=void 0,e&&I.__e(e,n.__v))};var me=typeof requestAnimationFrame=="function";function nn(t){var e,n=function(){clearTimeout(r),me&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,35);me&&(e=requestAnimationFrame(n))}function ut(t){var e=w,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),w=e}function Dt(t){var e=w;t.__c=t.__(),w=e}function ye(t,e){return typeof e=="function"?e(t):e}var ve={0:1,1:2,2:3,3:4,4:5,a:6,b:7,c:8,d:9,e:10,f:11,g:12,h:13,i:14,j:15,k:16,l:17,m:18,n:19,o:20,p:21,q:22,r:23,s:24,t:25,u:26,v:27,w:28,x:29,y:30,z:31},ge={};for(let[t,e]of Object.entries(ve))ge[e]=t;var rn=new Set("01234abcdefghijklmnopqrstuvwxyz".split(""));function A(t){let e=0;for(let n=0;n<4;n++)if(e<<=5,n<t.length){let r=ve[t[n]];if(r===void 0)throw new Error(`Invalid name character: ${t[n]}`);e|=r}return e}function W(t){let e="";for(let n=0;n<4;n++){let r=(3-n)*5,o=t>>r&31;if(o===0)break;let i=ge[o];if(!i)throw new Error(`Invalid encoded name value: ${o}`);e+=i}return e}function S(t){if(t.length<1||t.length>4)return!1;for(let e of t)if(!rn.has(e))return!1;return!0}var Te={},Ie=[],we="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";for(let t=0;t<we.length;t++){let e=we[t];Te[e]=t,Ie[t]=e}function k(t){let e=0n;for(let l of t)e=e<<8n|BigInt(l);let n=e>>80n&(1n<<28n)-1n,r=e>>64n&(1n<<12n)-1n,o=e>>60n&3n,i=e&(1n<<60n)-1n,a=n<<74n|r<<62n|o<<60n|i,c="";for(let l=16;l>=0;l--){let u=Number(a>>BigInt(l*6)&0x3fn);c+=Ie[u]}return c}function Q(t){if(t.length!==17)throw new Error(`Invalid data length: expected 17, got ${t.length}`);let e=0n;for(let r=0;r<17;r++){let o=t[r],i=Te[o];if(i===void 0)throw new Error(`Invalid data character: ${o}`);e=e<<6n|BigInt(i)}let n=Number(e>>60n&3n);return{dataBits:e,tnidVariant:n}}function lt(t,e){let n=t>>74n&(1n<<28n)-1n,r=t>>62n&(1n<<12n)-1n,o=t>>60n&3n,i=t&(1n<<60n)-1n,a=BigInt(e);a=a<<28n|n,a=a<<4n|0x8n,a=a<<12n|r,a=a<<2n|2n,a=a<<2n|o,a=a<<60n|i;let c=new Uint8Array(16);for(let l=15;l>=0;l--)c[l]=Number(a&0xffn),a>>=8n;return c}var on={},xe=an(globalThis,on);function an(t,e){return new Proxy(t,{get(n,r,o){return r in e?e[r]:t[r]},set(n,r,o){return r in e&&delete e[r],t[r]=o,!0},deleteProperty(n,r){let o=!1;return r in e&&(delete e[r],o=!0),r in t&&(delete t[r],o=!0),o},ownKeys(n){let r=Reflect.ownKeys(t),o=Reflect.ownKeys(e),i=new Set(o);return[...r.filter(a=>!i.has(a)),...o]},defineProperty(n,r,o){return r in e&&delete e[r],Reflect.defineProperty(t,r,o),!0},getOwnPropertyDescriptor(n,r){return r in e?Reflect.getOwnPropertyDescriptor(e,r):Reflect.getOwnPropertyDescriptor(t,r)},has(n,r){return r in e||r in t}})}var Nt=xe.crypto;var cn=0x00000000000080008000000000000000n,un=0x00000fffffff0fff0fffffffffffffffn,ln=0x000000000000000001ffffffffffffffn,_n=0x000007ffffff8000n,fn=0x0000000000007ff8n,dn=0x0000000000000007n;function pn(t){return BigInt(t)<<108n}function mn(t){return cn|(t&3n)<<60n}function hn(t){let e=0n,n=64n-43n;e|=(t&_n)<<n+64n-20n;let r=64n-15n;e|=(t&fn)<<r+64n-52n;let o=64n-3n;return e|=(t&dn)<<o+64n-68n,e}function Ee(t,e,n){return pn(t)|mn(n)|e}function _t(t){let e=new Uint8Array(16),n=t;for(let r=15;r>=0;r--)e[r]=Number(n&0xffn),n>>=8n;return e}function Y(t,e,n){let r=e!==void 0?e&(1n<<43n)-1n:BigInt(Date.now())&(1n<<43n)-1n,o;if(n!==void 0)o=n;else{let c=Nt.getRandomValues(new Uint8Array(8));o=0n;for(let l of c)o=o<<8n|BigInt(l)}let i=hn(r)|o&ln,a=Ee(t,i,0n);return _t(a)}function ft(t,e){let n;if(e!==void 0)n=e;else{let i=Nt.getRandomValues(new Uint8Array(16));n=0n;for(let a of i)n=n<<8n|BigInt(a)}let r=n&un,o=Ee(t,r,1n);return _t(o)}var be=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function De(t,e=!1){let n=t.toString(16).padStart(32,"0"),r=`${n.slice(0,8)}-${n.slice(8,12)}-${n.slice(12,16)}-${n.slice(16,20)}-${n.slice(20)}`;return e?r.toUpperCase():r.toLowerCase()}function G(t){if(!be.test(t))throw new Error(`Invalid UUID format: ${t}`);let e=t.replace(/-/g,"");return BigInt("0x"+e)}function J(t){return Number(t>>108n&0xfffffn)}function Ut(t){let e=Number(t>>60n&3n);return["v0","v1","v2","v3"][e]}function dt(t){return!(Number(t>>76n&0xfn)!==8||Number(t>>62n&3n)!==2)}function yn(t,e){let n=k(t);return`${e}.${n}`}function z(t){let e=J(t),n=W(e),r=_t(t);return yn(r,n)}function Ae(t){let e=t.indexOf(".");if(e===-1)throw new Error("Invalid TNID: missing separator");let n=t.substring(e+1),{tnidVariant:r}=Q(n);return["v0","v1","v2","v3"][r]}function Se(t){let e=t.indexOf(".");if(e===-1)throw new Error("Invalid TNID: missing separator");return t.substring(0,e)}function vn(t){let e=Se(t);return A(e).toString(16).padStart(5,"0")}function At(t,e=!1){let n=t.indexOf(".");if(n===-1)throw new Error("Invalid TNID: missing separator");let r=t.substring(0,n),o=t.substring(n+1),i=A(r),{dataBits:a}=Q(o),c=lt(a,i),l=0n;for(let u of c)l=l<<8n|BigInt(u);return De(l,e)}function Ne(t){let e=t.indexOf(".");if(e===-1)throw new Error("Invalid TNID string: missing '.' separator");let n=t.substring(0,e),r=t.substring(e+1);if(!S(n))throw new Error(`Invalid TNID name: "${n}"`);let o=A(n),{dataBits:i}=Q(r),a=lt(i,o);if(k(a)!==r)throw new Error("Invalid TNID data encoding");return t}function Ue(t){let e=G(t);if(!dt(e))throw new Error("Invalid TNID: not a valid UUIDv8");let n=J(e),r=W(n);if(!S(r))throw new Error("Invalid TNID: invalid name encoding");return z(e)}var E={newV0(t){if(!S(t))throw new Error(`Invalid TNID name: "${t}". Must be 1-4 characters of: 0-4, a-z`);let e=A(t),n=Y(e),r=k(n);return`${t}.${r}`},newTimeOrdered(t){return E.newV0(t)},newV0WithTime(t,e){if(!S(t))throw new Error(`Invalid TNID name: "${t}". Must be 1-4 characters of: 0-4, a-z`);let n=A(t),r=BigInt(e.getTime()),o=Y(n,r),i=k(o);return`${t}.${i}`},newV0WithParts(t,e,n){if(!S(t))throw new Error(`Invalid TNID name: "${t}". Must be 1-4 characters of: 0-4, a-z`);let r=A(t),o=Y(r,e,n),i=k(o);return`${t}.${i}`},newV1(t){if(!S(t))throw new Error(`Invalid TNID name: "${t}". Must be 1-4 characters of: 0-4, a-z`);let e=A(t),n=ft(e),r=k(n);return`${t}.${r}`},newHighEntropy(t){return E.newV1(t)},newV1WithRandom(t,e){if(!S(t))throw new Error(`Invalid TNID name: "${t}". Must be 1-4 characters of: 0-4, a-z`);let n=A(t),r=ft(n,e),o=k(r);return`${t}.${o}`},parse(t){if(t.length>=19&&t.length<=22&&t.includes("."))return Ne(t);if(t.length===36)return Ue(t);throw new Error(`Invalid TNID: expected TNID string (19-22 chars) or UUID (36 chars), got ${t.length} chars`)},parseTnidString(t){return Ne(t)},parseUuidString(t){return Ue(t)},getName(t){return Se(t)},getNameHex(t){return vn(t)},getVariant(t){return Ae(t)},toUuidString(t,e="lower"){return At(t,e==="upper")}};var gn={},ke=wn(globalThis,gn);function wn(t,e){return new Proxy(t,{get(n,r,o){return r in e?e[r]:t[r]},set(n,r,o){return r in e&&delete e[r],t[r]=o,!0},deleteProperty(n,r){let o=!1;return r in e&&(delete e[r],o=!0),r in t&&(delete t[r],o=!0),o},ownKeys(n){let r=Reflect.ownKeys(t),o=Reflect.ownKeys(e),i=new Set(o);return[...r.filter(a=>!i.has(a)),...o]},defineProperty(n,r,o){return r in e&&delete e[r],Reflect.defineProperty(t,r,o),!0},getOwnPropertyDescriptor(n,r){return r in e?Reflect.getOwnPropertyDescriptor(e,r):Reflect.getOwnPropertyDescriptor(t,r)},has(n,r){return r in e||r in t}})}var Ve=ke.crypto,pt=class{constructor(e){if(Object.defineProperty(this,"keyPromise",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e.length!==16)throw new Error(`AES-128 key must be 16 bytes, got ${e.length}`);this.keyPromise=Ve.subtle.importKey("raw",e,{name:"AES-CBC"},!1,["encrypt"])}async encryptBlock(e){if(e.length!==16)throw new Error(`AES block must be 16 bytes, got ${e.length}`);let n=await this.keyPromise,r=new Uint8Array(16),o=await Ve.subtle.encrypt({name:"AES-CBC",iv:r},n,e);return new Uint8Array(o,0,16)}async cbcMac(e){let n=new Uint8Array(16);for(let r of e){let o=new Uint8Array(16);for(let a=0;a<16;a++)o[a]=n[a]^r[a];let i=await this.encryptBlock(o);n=new Uint8Array(i)}return n}};function In(t,e){return Math.ceil(t/e)}function Be(t,e){let n=0n,r=BigInt(e);for(let o of t)n=n*r+BigInt(o);return n}function xn(t,e,n){let r=new Array(n).fill(0),o=BigInt(e),i=t;for(let a=n-1;a>=0&&i>0n;a--)r[a]=Number(i%o),i=i/o;return r}function En(t,e){let n=new Uint8Array(e),r=t;for(let o=e-1;o>=0&&r>0n;o--)n[o]=Number(r&0xffn),r>>=8n;return n}function bn(t){let e=0n;for(let n of t)e=e<<8n|BigInt(n);return e}function Ce(...t){let e=t.reduce((o,i)=>o+i.length,0),n=new Uint8Array(e),r=0;for(let o of t)n.set(o,r),r+=o.length;return n}var j=class{constructor(e,n){if(Object.defineProperty(this,"aes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"radix",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),n<2||n>65536)throw new Error(`Radix must be in range [2, 65536], got ${n}`);this.aes=new pt(e),this.radix=n}encrypt(e,n){return this.cipher(e,n,!0)}decrypt(e,n){return this.cipher(e,n,!1)}async cipher(e,n,r){let o=n.length,i=e.length,a=this.radix,c=Math.floor(o/2),l=o-c,u=n.slice(0,c),d=n.slice(c),s=Math.ceil(Math.ceil(l*Math.log2(a))/8),p=4*In(s,4)+4,_=new Uint8Array(16);_[0]=1,_[1]=2,_[2]=1,_[3]=a>>16&255,_[4]=a>>8&255,_[5]=a&255,_[6]=10,_[7]=c&255,_[8]=o>>24&255,_[9]=o>>16&255,_[10]=o>>8&255,_[11]=o&255,_[12]=i>>24&255,_[13]=i>>16&255,_[14]=i>>8&255,_[15]=i&255;let m=r?[0,1,2,3,4,5,6,7,8,9]:[9,8,7,6,5,4,3,2,1,0];for(let T of m){let g=T%2===0?c:l,v=Be(r?d:u,a),y=En(v,s),N=(16-(i+s+1)%16)%16,V=Ce(e,new Uint8Array(N),new Uint8Array([T]),y),M=Ce(_,V),$=M.length/16,O=[];for(let U=0;U<$;U++)O.push(M.slice(U*16,(U+1)*16));let P=await this.aes.cbcMac(O),B=new Uint8Array(p),R=Math.min(16,p);B.set(P.slice(0,R),0);let b=R,D=1;for(;b<p;){let U=new Uint8Array(16);U[15]=D&255,U[14]=D>>8&255,U[13]=D>>16&255,U[12]=D>>24&255;let zt=new Uint8Array(16);for(let Z=0;Z<16;Z++)zt[Z]=P[Z]^U[Z];let Ge=await this.aes.encryptBlock(zt),qt=Math.min(16,p-b);B.set(Ge.slice(0,qt),b),b+=qt,D++}let Ft=bn(B),nt=BigInt(a)**BigInt(g),Wt=Be(r?u:d,a),mt;r?mt=(Wt+Ft)%nt:mt=((Wt-Ft)%nt+nt)%nt;let Gt=xn(mt,a,g);r?(u=d,d=Gt):(d=u,u=Gt)}return[...u,...d]}};var kt=0x00000000000000000fffffffffffffffn,Vt=0x0000000000000fff0000000000000000n,Bt=0x00000fffffff00000000000000000000n,Ct=kt|Vt|Bt;var St=25;function Mt(t){let e=t&kt,n=4n;e=e|(t&Vt)>>n;let r=n+4n;return e=e|(t&Bt)>>r,e}function $t(t){let e=t&kt,n=4n,r=Vt>>n;e=e|(t&r)<<n;let o=n+4n,i=Bt>>o;return e=e|(t&i)<<o,e}function Pt(t){let e=new Array(St);for(let n=0;n<St;n++){let r=BigInt((St-1-n)*4);e[n]=Number(t>>r&0xfn)}return e}function Ht(t){let e=0n;for(let n of t)e=e<<4n|BigInt(n);return e}var Dn=3n<<60n,Nn=0n<<60n,Un=1n<<60n;function Rt(t,e){return t&~Dn|(e==="v0"?Nn:Un)}var q=class extends Error{constructor(e){super(e),this.name="EncryptionKeyError"}},tt=class extends Error{constructor(e){super(e),this.name="EncryptionError"}},et=class t{constructor(e){Object.defineProperty(this,"bytes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bytes=e}static fromBytes(e){if(e.length!==16)throw new q(`Encryption key must be 16 bytes, got ${e.length}`);return new t(new Uint8Array(e))}static fromHex(e){if(e.length!==32)throw new q(`Encryption key hex string must be 32 characters, got ${e.length}`);let n=new Uint8Array(16);for(let r=0;r<16;r++){let o=e.slice(r*2,r*2+2),i=parseInt(o,16);if(isNaN(i))throw new q(`Invalid hex character at position ${r*2}`);n[r]=i}return new t(n)}asBytes(){return new Uint8Array(this.bytes)}};function Me(t){let e=E.toUuidString(t);return G(e)}function $e(t){return z(t)}async function An(t,e){let n=(1n<<100n)-1n,r=t&n,o=Pt(r),a=await new j(e.asBytes(),16).encrypt(new Uint8Array(0),o);return Ht(a)}async function Sn(t,e){let n=(1n<<100n)-1n,r=t&n,o=Pt(r),a=await new j(e.asBytes(),16).decrypt(new Uint8Array(0),o);return Ht(a)}async function Lt(t,e){let n=Me(t),r=Ut(n);if(r==="v1")return t;if(r!=="v0")throw new tt(`TNID variant ${r} is not supported for encryption`);let o=Mt(n),i=await An(o,e),a=$t(i),c=n&~Ct|a;return c=Rt(c,"v1"),$e(c)}async function Kt(t,e){let n=Me(t),r=Ut(n);if(r==="v0")return t;if(r!=="v1")throw new tt(`TNID variant ${r} is not supported for decryption`);let o=Mt(n),i=await Sn(o,e),a=$t(i),c=n&~Ct|a;return c=Rt(c,"v0"),$e(c)}var kn=0;function f(t,e,n,r,o,i){e||(e={});var a,c,l=e;if("ref"in l)for(c in l={},e)c=="ref"?a=e[c]:l[c]=e[c];var u={type:t,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--kn,__i:-1,__u:0,__source:o,__self:i};if(typeof t=="function"&&(a=t.defaultProps))for(c in a)l[c]===void 0&&(l[c]=a[c]);return h.vnode&&h.vnode(u),u}var Pe=t=>t.length<1||t.length>4?!1:/^[a-z0-4]+$/.test(t),Vn=async t=>{await navigator.clipboard.writeText(t)};function We(){let[t,e]=x("user"),[n,r]=x("v0"),[o,i]=x(null),[a,c]=x(null),[l,u]=x(null),[d,s]=x(null),p=()=>{if(u(null),s(null),!Pe(t)){u("Name must be 1-4 characters, only a-z and 0-4"),i(null),c(null);return}try{let m=n==="v0"?E.newV0(t):E.newV1(t);i(m),c(E.toUuidString(m))}catch(m){u(m instanceof Error?m.message:"Failed to generate"),i(null),c(null)}},_=async(m,T)=>{await Vn(m),s(T),setTimeout(()=>s(null),2e3)};return f("div",{children:[f("div",{class:"grid",children:[f("label",{children:["Name",f("input",{type:"text",value:t,onInput:m=>e(m.target.value.toLowerCase()),placeholder:"user",maxLength:4,"aria-invalid":t.length>0&&!Pe(t)?"true":void 0}),f("small",{children:"1-4 characters, a-z and 0-4 only"})]}),f("label",{children:["Variant",f("select",{value:n,onChange:m=>r(m.target.value),children:[f("option",{value:"v0",children:"V0 (time-ordered)"}),f("option",{value:"v1",children:"V1 (random)"})]})]})]}),f("button",{onClick:p,children:"Generate"}),l&&f("p",{children:f("mark",{children:l})}),o&&a&&f("div",{children:[f("label",{children:["TNID",f("div",{class:"grid",children:[f("input",{type:"text",value:o,readOnly:!0}),f("button",{class:"secondary",onClick:()=>_(o,"tnid"),children:d==="tnid"?"Copied!":"Copy"})]})]}),f("label",{children:["UUID",f("div",{class:"grid",children:[f("input",{type:"text",value:a,readOnly:!0}),f("button",{class:"secondary",onClick:()=>_(a,"uuid"),children:d==="uuid"?"Copied!":"Copy"})]})]})]})]})}function Bn(){let[t,e]=x(""),[n,r]=x(null),[o,i]=x(null);return f("div",{children:[f("label",{children:["TNID or UUID",f("input",{type:"text",value:t,onInput:c=>e(c.target.value),placeholder:"user.Br2flcNDfF6LYICnT or d6157329-4640-8e30-..."})]}),f("button",{onClick:()=>{if(i(null),r(null),!t.trim()){i("Enter a TNID or UUID");return}try{let c=E.parse(t.trim());r({tnid:c,uuid:E.toUuidString(c),name:E.getName(c),variant:E.getVariant(c)})}catch(c){i(c instanceof Error?c.message:"Invalid TNID or UUID")}},children:"Inspect"}),o&&f("p",{children:f("mark",{children:o})}),n&&f("table",{children:f("tbody",{children:[f("tr",{children:[f("th",{children:"Name"}),f("td",{children:f("code",{children:n.name})})]}),f("tr",{children:[f("th",{children:"Variant"}),f("td",{children:n.variant==="v0"?"V0 (time-ordered)":"V1 (random)"})]}),f("tr",{children:[f("th",{children:"TNID"}),f("td",{children:f("code",{children:n.tnid})})]}),f("tr",{children:[f("th",{children:"UUID"}),f("td",{children:f("code",{children:n.uuid})})]})]})})]})}function Cn(){let[t,e]=x(""),[n,r]=x(""),[o,i]=x(null);return f("div",{children:[f("div",{class:"grid",children:[f("label",{children:["TNID",f("input",{type:"text",value:t,onInput:l=>e(l.target.value),placeholder:"user.Br2flcNDfF6LYICnT"}),f("button",{class:"secondary",onClick:()=>{if(i(null),!t.trim()){i("Enter a TNID");return}try{let l=E.parse(t.trim());r(E.toUuidString(l))}catch(l){i(l instanceof Error?l.message:"Invalid TNID")}},children:"Convert to UUID \u2192"})]}),f("label",{children:["UUID",f("input",{type:"text",value:n,onInput:l=>r(l.target.value),placeholder:"d6157329-4640-8e30-..."}),f("button",{class:"secondary",onClick:()=>{if(i(null),!n.trim()){i("Enter a UUID");return}try{let l=E.parse(n.trim());e(l)}catch(l){i(l instanceof Error?l.message:"Invalid UUID")}},children:"\u2190 Convert to TNID"})]})]}),o&&f("p",{children:f("mark",{children:o})})]})}function Mn(){let[t,e]=x(""),[n,r]=x(""),[o,i]=x(null),[a,c]=x(null),[l,u]=x("encrypt"),d=_=>/^[0-9a-fA-F]{32}$/.test(_),s=async()=>{if(c(null),i(null),!d(t)){c("Key must be 32 hex characters (128 bits)");return}if(!n.trim()){c("Enter a TNID");return}try{let _=E.parse(n.trim()),m=E.getVariant(_),T=et.fromHex(t);if(l==="encrypt"){if(m==="v1"){c("Already a V1 TNID. Did you mean to decrypt?");return}if(m!=="v0"){c(`This is a ${m.toUpperCase()} TNID. Only V0 can be encrypted.`);return}i(await Lt(_,T))}else{if(m==="v0"){c("Already a V0 TNID. Did you mean to encrypt?");return}if(m!=="v1"){c(`This is a ${m.toUpperCase()} TNID. Only V1 can be decrypted.`);return}i(await Kt(_,T))}}catch(_){c(_ instanceof Error?_.message:"Failed")}},p=()=>{let _=new Uint8Array(16);crypto.getRandomValues(_),e(Array.from(_).map(m=>m.toString(16).padStart(2,"0")).join(""))};return f("div",{children:[f("label",{children:["Key (128-bit hex)",f("div",{class:"grid",children:[f("input",{type:"text",value:t,onInput:_=>e(_.target.value),placeholder:"0102030405060708090a0b0c0d0e0f10",maxLength:32,"aria-invalid":t.length>0&&!d(t)?"true":void 0}),f("button",{class:"secondary",onClick:p,children:"Random"})]})]}),f("div",{class:"grid",children:[f("label",{children:["Mode",f("select",{value:l,onChange:_=>u(_.target.value),children:[f("option",{value:"encrypt",children:"Encrypt (V0 \u2192 V1)"}),f("option",{value:"decrypt",children:"Decrypt (V1 \u2192 V0)"})]})]}),f("label",{children:["Input TNID",f("input",{type:"text",value:n,onInput:_=>r(_.target.value),placeholder:l==="encrypt"?"V0 TNID":"V1 TNID"})]})]}),f("button",{onClick:s,children:l==="encrypt"?"Encrypt":"Decrypt"}),a&&f("p",{children:f("mark",{children:a})}),o&&f("label",{children:["Output",f("input",{type:"text",value:o,readOnly:!0})]})]})}var He=document.getElementById("playground-mount");He&&F(f(We,{}),He);var Re=document.getElementById("tool-generator");Re&&F(f(We,{}),Re);var Le=document.getElementById("tool-inspector");Le&&F(f(Bn,{}),Le);var Ke=document.getElementById("tool-converter");Ke&&F(f(Cn,{}),Ke);var Fe=document.getElementById("tool-encryption");Fe&&F(f(Mn,{}),Fe);
